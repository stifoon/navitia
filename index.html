<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Navitia.io documentation</title>

    <link rel="icon" href="favicon.ico" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/navio.css" rel="stylesheet" type="text/css" media="all" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://navitia.io/register/'>Get an access</a></li>
            <li><a href='http://www.navitia.io/datasets/'>Explore Data</a></li>
            <li><a href='https://groups.google.com/forum/#!forum/navitia'>Help !</a></li>
            <li><a href='http://navitia.io'>Navitia.io</a></li>
            <li><a href='https://github.com/CanalTP/navitia'>Navitia on Github</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="welcome-to-navitia-io">Welcome to navitia.io</h1>

<h2 id="overview">Overview</h2>

<p><em>navitia.io</em> is the open API for building cool stuff with transport data.
It provides the following services</p>

<ul>
<li>journeys computation</li>
<li>line schedules</li>
<li>next departures</li>
<li>exploration of public transport data / search places</li>
<li>and sexy things such as isochrones</li>
</ul>

<p>navitia is a <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a> API that returns JSON formated results, available at <a href="https://api.navitia.io">https://api.navitia.io</a></p>

<p>Have a look at the examples below to learn what services we provide and how to use them. </p>

<aside class="notice">
A fake token is used in examples below: be aware that this token is really limited. You should use yours to get better services on real data.
</aside>

<h2 id="getting-started">Getting started</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<h4 id="first-step">First step,</h4>

<p>get a token here <a href="http://navitia.io/register/">http://navitia.io/register/</a></p>

<h4 id="second-step">Second step,</h4>

<p>Go to the API  <a href="https://api.navitia.io">https://api.navitia.io</a></p>

<p>The simpliest way is to use a web browser. 
Our humble opinion is that <a href="http://www.getfirefox.com">firefox browser</a> and a json viewer extension like <a href="https://addons.mozilla.org/fr/firefox/addon/jsonview/">JSONView</a> is a good setup.</p>

<h4 id="third-step">Third step,</h4>

<p>use the token : if you use a modern web browser, you only have to <strong>paste it</strong> in the <strong>user name area</strong>,
with <strong>no password</strong>.</p>

<p><img alt="Put token in Firefox browser" src="images/firefox_token.png" /></p>

<p>Or, in a simplier way, you can add your token in the address bar like :</p>

<aside class="success">
<a href="https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines">https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines</a>
</aside>

<p>See <a href="#authentication">authentication</a> section to find out more details on <strong>how to use your token</strong> when coding.</p>

<h4 id="then">Then,</h4>

<p>use the API ! The easiest is probably to jump to <a href="#some_examples">Examples</a> below.</p>

<p>At some point you will want to read:</p>

<ul>
<li><a href="#lexicon">transport public lexicon</a></li>
<li><a href="#ressources">Ressources overview</a></li>
</ul>

<h2 id="about-the-data">About the data</h2>

<p>The street network is extracted from <a href="http://www.openstreetmap.org">OpenStreetMap</a>. The public transport data are provided by networks that provide their timetables as open data. Some data improvements are achieved by Kisio Digital and are published back there <a href="https://navitia.opendatasoft.com">https://navitia.opendatasoft.com</a></p>

<aside class="success">
    We are gradually supporting more and more cities. If your city has open public transport data and is missing, drop us a note.
    We will add it to navitia.io
</aside>

<h2 id="getting-help">Getting help</h2>

<p>All available functions are documented in <a href="#navitia-documentation-v1-interface">integration part</a></p>

<p>A mailing list is available to ask question: <a href="mailto:navitia@googlegroups.com">navitia@googlegroups.com</a></p>

<p>In order to report bug and make requests we created a github navitia project
<a href="https://github.com/CanalTP/navitia/issues">https://github.com/CanalTP/navitia/issues</a>.</p>

<p>Stay tuned on twitter @navitia.</p>

<p>At last, we are present on IRC on the network <a href="https://webchat.freenode.net/">Freenode</a>, channel <b>#navitia</b>.</p>

          <h1 id="some-examples"><a name="some_examples"></a>Some examples</h1>

<p>This chapter shows some usages with the minimal required arguments. However, this is not a reference and not all APIs nor arguments are shown.</p>

<aside class="notice">
You will have to use your own token with the examples below.
</aside>

<h2 id="a-quick-exploration">A quick exploration</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"start_production_date"</span>: <span class="s2">"20140105"</span>,
    <span class="s2">"status"</span>: <span class="s2">"running"</span>,
    <span class="s2">"shape"</span>: <span class="s2">"POLYGON((-74.500997 40.344999,-74.500997 41.096999,-73.226 41.096999,-73.226 40.344999,-74.500997 40.344999))"</span>,
    <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
    <span class="s2">"end_production_date"</span>: <span class="s2">"20140406"</span>
<span class="o">}</span>
</code></pre>

<p><em>navitia</em> allows to dive into the public transport data.</p>

<p>To better understand how the API works let&rsquo;s ask the API the different main possibilities by simply querying the API endpoint: <a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>The <code class="prettyprint">links</code> section of the answer contains the different possible interactions with the API.</p>

<p>As you can see there are several possibilities like for example <a href="#coverage">coverage</a> to navigate through the covered regions data or <a href="#journeys">journeys</a> to compute a journey.</p>

<p>Now let&rsquo;s see what interactions are possible with <code class="prettyprint">coverage</code>:</p>

<p>This request will give you:</p>

<ul>
<li>in the <code class="prettyprint">regions</code> section the list of covered regions</li>
<li>in the <code class="prettyprint">links</code> section the list of possible interactions with them</li>
</ul>

<p>In the <code class="prettyprint">links</code> section there is for example this link: <code class="prettyprint">&quot;href&quot;: &quot;https://api.navitia.io/v1/coverage/{regions.id}/lines&quot;</code></p>

<p>This link is about lines (according to its <code class="prettyprint">rel</code> attribute) and is templated which means that it needs additional parameters.<br>
The parameters are identified with the <code class="prettyprint">{</code> <code class="prettyprint">}</code> syntax.
In this case it needs a region id. This id can the found in the <code class="prettyprint">regions</code> section. </p>

<p>To query for the public transport lines of New York we thus have to call: <a href="https://api.navitia.io/v1/coverage/us-ny/lines">https://api.navitia.io/v1/coverage/us-ny/lines</a></p>

<p>Easy isn&rsquo;t it?</p>

<p>We could push the exploration further and:</p>

<ul>
<li>Where am I? (WGS 84 coordinates)

<ul>
<li><a href="https://api.navitia.io/v1/coord/2.377310;48.847002">https://api.navitia.io/v1/coord/2.377310;48.847002</a></li>
<li>I&rsquo;m on the &ldquo;/fr-idf&rdquo; coverage, at &ldquo;20, rue Hector Malot in Paris, France&rdquo;</li>
</ul></li>
<li>Services available on this coverage

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf">https://api.navitia.io/v1/coverage/fr-idf</a></li>
<li>Let&rsquo;s take a look at the links at the bottom of the previous stream</li>
</ul></li>
<li>Networks available? (see what <a href="#network">network</a> is)

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
<li>pwooo, many networks on this coverage ;)</li>
</ul></li>
<li>Is there any Metro lines or networks?

<ul>
<li>there is an api for that. See <a href="#pt-objects">pt_objects</a></li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro">https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro</a></li>
<li>Response contain one network, one mode, and many lines</li>
</ul></li>
<li>Let&rsquo;s try some filtering (see <a href="#pt-ref">PT objects exploration</a>)

<ul>
<li>filter on the specific metro network (&ldquo;id&rdquo;: &ldquo;network:OIF:439&rdquo; extracted from last request)</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/</a></li>
<li>physical modes managed by this network</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes</a></li>
<li>metro lines</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
<li>By the way, what stuff are close to me?

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules</a></li>
<li>or &hellip;</li>
</ul></li>
</ul>

<h2 id="seek-and-search">Seek and search</h2>

<h3 id="what-places-have-a-name-that-start-with-39-eiff-39">What places have a name that start with &lsquo;eiff&rsquo;</h3>

<p>The <a href="#places">/places</a> API finds any object whose name matches the first letters of the query.</p>

<p>To find the objects that start with &ldquo;tran&rdquo; the request should be: <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff">https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff</a></p>

<p>This API is fast enough to use it for autocompleting a user request.</p>

<h3 id="what-places-are-within-1000-meters">What places are within 1000 meters</h3>

<p>The <a href="#places-nearby">/places_nearby</a> API finds any object within a certain radius as a crow flies.
This API is not accessible from the main endpoint but has to be applied on a stop point, an address, some coordinates,&hellip;</p>

<p>All objects around the coordinates of the Transamerica Pyramid can be fetched with the following request: <a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby</a></p>

<p>We could, in the same fashion, ask for the objects around a particuliar stop area (<code class="prettyprint">stop_area:OSF:SA:CTP4025</code> for example): <a href="https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby">https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby</a></p>

<p>Optionally you can select what object types to return and change the radius.</p>

<h2 id="about-itinerary">About itinerary</h2>

<h3 id="a-simple-route-computation">A simple route computation</h3>

<p>Let&rsquo;s find out how to get from the view point of the Golden Gate bridge to the Transamerica Pyramid in San Francisco.
We need to use the <code class="prettyprint">journeys</code> API.</p>

<p>The coordinates of the view point are <code class="prettyprint">longitude = -122.4752</code>, <code class="prettyprint">latitude = 37.80826</code> and the coordinates of the Transamercia Pyramid are <code class="prettyprint">longitude = -122.402770</code>, <code class="prettyprint">latitude = 37.794682</code>.
The coordinates are always in decimal degrees as WGS84 (also known as GPS coordinates). The coordinates are given to the API with the following format: <code class="prettyprint">longitute;latitude</code>.</p>

<p>The arguments are the following:</p>

<ul>
<li><code class="prettyprint">from=-122.4752;37.80826</code></li>
<li><code class="prettyprint">to=-122.402770;37.794682</code>
Hence, the complete URL: <a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a>.</li>
</ul>

<aside class="success">
A &ldquo;journeys&rdquo; request might return multiple journeys. Those journeys are said to be equivalent. For instance
a journey can be faster than an other but requires more changes or more walking.
</aside>

<p>This API has more options explained in the reference as:</p>

<ul>
<li><p>The dates are given in the basic form of the ISO 8601 datetime format: <code class="prettyprint">YYYYMMDDTHHMM</code>. 
For example, if you want to compute a journey on friday, April 22 <code class="prettyprint">datetime=20160422T0800</code>
<a href="https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20160422T0800">https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20160422T0800</a></p></li>
<li><p>Latest departure
To get the latest departure, you can query for some journeys arriving before the end of the service
<a href="https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20160422T2359&amp;datetime_represents=arrival">https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20160422T2359&amp;datetime_represents=arrival</a></p></li>
<li><p>You can also change the <a href="#traveler-type">traveler profile</a> (to adapt the walking/biking/driving parts and comfort of journeys):
<a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;traveler_type=slow_walker">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;traveler_type=slow_walker</a></p></li>
<li><p>Forbid certain lines, routes or modes
For example you can forbid the line 1 and the cable car mode with the url:
<a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;forbidden_uris%5B%5D=line:OSF:10867&amp;forbidden_uris%5B%5D=commercial_mode:cablecar">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;forbidden_uris[]=line:OSF:10867&amp;forbidden_uris[]=commercial_mode:cablecar</a></p></li>
<li><p>Enable biking, driving or use of bike sharing system on Paris area
For example you can allow bss (and walking since it&rsquo;s implicitly allowed with bss) at the departure:
<a href="https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&amp;to=2.3643739;48.854&amp;first_section_mode%5B%5D=bss&amp;first_section_mode%5B%5D=walking&amp;first_section_mode%5B%5D=bike">https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&amp;to=2.3643739;48.854&amp;first_section_mode[]=bss&amp;first_section_mode[]=walking&amp;first_section_mode[]=bike</a></p></li>
</ul>

<h3 id="what-stations-can-be-reached-in-the-next-20-minutes">What stations can be reached in the next 20 minutes</h3>

<p>The API can computes <em>all</em> the reachable stop points from an origin within a given maximum travel duration.
That&rsquo;s what we call an <code class="prettyprint">isochron</code> (see <a href="#journeys">journeys section</a> )</p>

<p>All the stop points that can be reached from the Transamerica Pyramid can be fetched with the following request:
<a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200</a></p>

<p>It returns for each destination stop point the earliest arrival and a link to the journey detail.</p>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>3 ways to request Navitia</p>
</blockquote>
<pre class="highlight shell"><code>
<span class="c">#using "headers"</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span> 

<span class="c">#using "users": don't forget ":" at the end of line !</span>
<span class="gp">$ </span>curl https://api.navitia.io/v1/coverage -u 3b036afe-0110-4202-b9ed-99718476c2e0:

<span class="c">#using "straight URL"</span>
<span class="gp">$ </span>curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage

</code></pre>

<p>Authentication is required to use <strong>navitia.io</strong>. When you register we will give you 
an authentication key that must accompany each API call you make.</p>

<p><strong>Navitia.io</strong> uses <a href="http://tools.ietf.org/html/rfc2617#section-2">Basic HTTP authentication</a> 
for authentication, where the username is the key, and password remains empty.</p>

<p>For example, in a <a href="https://en.wikipedia.org/wiki/CURL">Curl</a> way, you can request either :</p>

<p><code class="prettyprint">curl &#39;https://api.navitia.io/v1/coverage&#39; -H &#39;Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0&#39;</code></p>

<p>or</p>

<p><code class="prettyprint">curl https://api.navitia.io/v1/coverage -u 3b036afe-0110-4202-b9ed-99718476c2e0:</code></p>

<p>(don&rsquo;t forget <code class="prettyprint">:</code> after the key)</p>

<p>or</p>

<p><code class="prettyprint">curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage</code></p>

          <h1 id="journey-planning"><a name="journey_planning"></a><img alt="Journey planning" src="images/journeys.png" />Journey planning</h1>

<p>The multi-modal itinerary feature allows you to compute the best routes from point A to point B 
using all available means of travel, including: bus, train, subway, bike, public bike, walking, car, etc.
This function returns a roadmap with specific instructions for a route based on available information, 
such as: time of departure and arrival, journey time, possible modes of transport, and walking distance.</p>

<p>In order to compute a journey, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#places">Places</a></strong> : autocomplete on geographical data to find the departure and destination points from an input text.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong> : compute journeys from and to coordinates, stops, stations or administrative region</li>
</ul>

          <h1 id="next-departures-and-arrivals"><a name="next_departures_and_arrivals"></a><img alt="Departures" src="images/departures.png" />Next departures and arrivals</h1>

<p>The &ldquo;Next Departures&rdquo; feature provides the next scheduled departures or arrivals 
for a specific mode of public transport (bus, tram, metro, train) at your selected stop, near coordinates, etc. </p>

<ul>
<li><p>use <code class="prettyprint">stop_schedules</code> if you want to display departures grouped by route (2 next departures for each route for example)
<img alt="stop_schedules" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" /></p></li>
<li><p>use <code class="prettyprint">departures</code> or <code class="prettyprint">arrivals</code> if you want to display a multi-route table (like big departure boards in train stations)
<img alt="departures" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" /></p></li>
</ul>

<p>In order to display departures, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong> : 
Compute time tables for a given resource</li>
</ul>

          <h1 id="timetables"><a name="timetables"></a><img alt="Timetables" src="images/line_schedules.png" />Timetables</h1>

<p>The Timetables features gives you access to line schedules on public transport, 
allowing you to find the times public transport is expected at specific stops.</p>

<p>It returns a variety of differents informations, including: stop points in right order, times, 
accessibility informations, vehicle informations, etc.</p>

<p>In order to display line schedules, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#route-schedules">Route Schedules</a></strong> and <strong><a href="#stop-schedules">Stop Schedules</a></strong> : 
Compute time tables for a given resource</li>
</ul>

          <h1 id="places-nearby"><a name="nearby"></a><img alt="Places nearby" src="images/places_nearby.png" />Places nearby</h1>

<p>The Places Nearby feature displays the different transport options around a location - a GPS coordinate, 
or an address, for example.</p>

<p>Using OpenStreetMap data, this function also provides information about bicycle parking, public park schedules, and parking fees.</p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong> : List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : Seek and search within the public transport objects of a region</li>
<li>  <strong><a href="#places-nearby-api">Places nearby</a></strong> :  List of objects near an object or using longitude and latitude</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong> : 
Compute time tables for a given resource</li>
</ul>

          <h1 id="explore-transport"><a name="explore"></a><img alt="Explore transport" src="images/search_places.png" />Explore transport</h1>

<p>The Explore Transport feature lets you explore places, coordinates, bus stops, subway stations, etc. 
to navigate all the data available on the API (collection service). </p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong> : List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#places">Places</a></strong> and <strong><a href="#pt-objects">PT_objects</a></strong> : Search for data using autocomplete input.</li>
</ul>

          <h1 id="isochrones"><a name="isochrones"></a><img alt="Isochrones" src="images/isochrons.png" />Isochrones</h1>

<p>Whether using a specific set of coordinates or a general location, you can find places within 
your reach and their corresponding travel times, using a variety of transportation options. 
You can even specify the maximum amount of time you want to spare on travel and find 
the quickest way to reach your destination. 
The Isochrone function provides information in the form of a table with all the possible stops 
from a potential destination with their respective arrival times, travel times and number of matches. </p>

<p>You have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#places">Places</a></strong> : autocomplete on geographical data to find the departure and destination points from an input text.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong> : Compute journeys</li>
</ul>

          <h1 id="interface">interface</h1>

<p>The base URL for <strong>navitia.io</strong> is :
<a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>We aim to implement <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>
concept with Navitia.</p>

<p>Every resource returns a response containing a links object, a paging
object, and the requested objects, following hypermedia principles.
That&rsquo;s lots of links. Links allow you to know all accessible uris and services for a given point.</p>

<h2 id="paging">Paging</h2>

<aside class="success">
    The results are paginated to avoid crashing your parser. The parameters to get the next or previous page are within the &ldquo;links&rdquo; section of the result.
</aside>

<p>Every Navitia response contains a paging object</p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>items_per_page</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
<tr>
<td>items_on_page</td>
<td>int</td>
<td>Number of items on this page</td>
</tr>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>total_result</td>
<td>int</td>
<td>Total number of items for this request</td>
</tr>
</tbody></table>

<p>You can navigate through a response using 2 parameters</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
</tbody></table>

<aside class="notice">
    The number of objects returned for a request can <b>not be superior than 1000</b>. 
    If you request for more, Navitia will return the first 1000, and you will have to paginate to get next 1000.
</aside>

<h2 id="templated-url">Templated URL</h2>

<blockquote>
<p>From every object collection</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>

<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="c">#first line is like:</span>
<span class="o">{</span>
<span class="s2">"lines"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"1"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Château de Vincennes - La Défense"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">]</span>,
        <span class="s2">"physical_modes"</span>: <span class="o">[]</span>,
        <span class="s2">"routes"</span>: <span class="o">[]</span>,
        <span class="s2">"commercial_mode"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"id"</span>: <span class="s2">"line:RAT:M1"</span>,
        <span class="s2">"network"</span>: <span class="o">{</span>...<span class="o">}</span>
    <span class="o">}</span>,
    ...
<span class="o">]}</span>

<span class="c">#and a templated link from the example above:</span>
<span class="s2">"links"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines/{lines.id}/stop_schedules"</span>,
        <span class="s2">"rel"</span>: <span class="s2">"stop_schedules"</span>,
        <span class="s2">"templated"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    ...
<span class="o">]</span>
</code></pre>

<blockquote>
<p>You can then request for &ldquo;stop_schedules&rdquo; service using templating</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request (be careful, without any filter, the response can be huge)</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#a smarter request for a line AND a stop_area</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_areas/stop_area:RAT:SA:PLROY/stop_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

</code></pre>

<p>Under some link sections, you will find a &ldquo;templated&rdquo; property.</p>

<p>If &ldquo;templated&rdquo; is true, then you will have to format the link with your right id as describe in the example.
In order to do that, you will have to </p>

<ul>
<li>take the id from the object you want to get the linked service</li>
<li>replace {lines.id} in the url as the example</li>
</ul>

<h2 id="inner-references">Inner references</h2>
<pre class="highlight shell"><code><span class="c">#You may find "disruptions" link, as</span>

<span class="o">{</span>
    <span class="s2">"internal"</span>: <span class="nb">true</span>,
    <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
    <span class="s2">"id"</span>: <span class="s2">"edc46f3a-ad3d-11e4-a5e1-005056a44da2"</span>,
    <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
    <span class="s2">"templated"</span>: <span class="nb">false</span>
<span class="o">}</span>
</code></pre>

<p>Some link sections holds disruption links. These links are templated.</p>

<p>That means :</p>

<ul>
<li>inside the self stream ( <strong>&ldquo;internal&rdquo;: true</strong> ) </li>
<li>you will find a <strong>disruptions</strong> section ( <strong>&ldquo;rel&rdquo;: &ldquo;disruptions&rdquo;</strong> ) </li>
<li>containing some <a href="#disruption">disruptions</a> objects ( <strong>&ldquo;type&rdquo;: &ldquo;disruption&rdquo;</strong> ) </li>
<li>where you can find the details of your object ( <strong>&ldquo;id&rdquo;: &ldquo;edc46f3a-ad3d-11e4-a5e1-005056a44da2&rdquo;</strong> ).</li>
</ul>

          <h1 id="api-catalog">API catalog</h1>

<h2 id="coverage"><a name="coverage"></a>Coverage</h2>

<p>Also known as <code class="prettyprint">/coverage</code> service.</p>

<p>You can easily navigate through regions covered by navitia.io, with the
coverage api. The shape of the region is provided in GeoJSON.</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">coverage</code></td>
<td>List of the areas covered by navitia</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{region_id}</code></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{region_id}/coords/{lon;lat}</code></td>
<td>Information about a specific region</td>
</tr>
</tbody></table>

<h2 id="inverted-geocoding"><a name="coord"></a>Inverted geocoding</h2>
<pre class="highlight shell"><code><span class="c">#request </span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coord/2.37705;48.84675'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response where you can find the right Navitia coverage, and a useful label</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[</span>
        <span class="s2">"sandbox"</span>
    <span class="o">]</span>,
    <span class="s2">"address"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"2.37705;48.84675"</span>,
        <span class="s2">"label"</span>: <span class="s2">"20 Rue Hector Malot (Paris)"</span>,
        <span class="s2">"..."</span>: <span class="s2">"..."</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>in this example, the coverage id is &ldquo;regions&rdquo;: [&ldquo;sandbox&rdquo;] 
so you can ask Navitia on accessible local mobility services:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[{</span>
        <span class="s2">"status"</span>: <span class="s2">"running"</span>,
        <span class="s2">"start_production_date"</span>: <span class="s2">"20160101"</span>,<span class="s2">"end_production_date"</span>: <span class="s2">"20160831"</span>,
        <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>
    <span class="o">}]</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/coords"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/places"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/networks"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/physical_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/companies"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/commercial_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/routes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_areas"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_points"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/connections"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/vehicle_journeys"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/poi_types"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/pois"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/disruptions"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/datasets"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/trips"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/"</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre>

<p>Also known as <code class="prettyprint">/coord</code> service.</p>

<p>Very simple service: you give Navitia some coordinates, it answers you</p>

<ul>
<li>  your detailed postal address</li>
<li>  the right Navitia &ldquo;coverage&rdquo; which allows you to access to all known
local mobility services</li>
</ul>

<h2 id="public-transportation-objects-exploration"><a name="pt-ref"></a>Public Transportation Objects exploration</h2>

<p>Also known as <code class="prettyprint">/networks</code>, <code class="prettyprint">/lines</code>, <code class="prettyprint">/stop_areas</code>&hellip; services.</p>

<p>Once you have selected a region, you can explore the public
transportation objects easily with these APIs. You just need to add at
the end of your URL a collection name to see every objects within a
particular collection. To see an object detail, add the id of this object at the
end of the collection&rsquo;s URL. The <a href="#paging">paging</a> arguments may be used to
paginate results.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{collection_name}</code></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{collection_name}/{object_id}</code></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/{collection_name}</code></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/{collection_name}/{object_id}</code></td>
<td>Information about a specific region</td>
</tr>
</tbody></table>

<h3 id="collections">Collections</h3>

<ul>
<li>  <a href="#network">networks</a></li>
<li>  <a href="#line">lines</a></li>
<li>  <a href="#route">routes</a></li>
<li>  <a href="#stop-point">stop_points</a></li>
<li>  <a href="#stop-area">stop_areas</a></li>
<li>  <a href="#commercial-mode">commercial_modes</a></li>
<li>  <a href="#physical-mode">physical_modes</a></li>
<li>  <a href="#company">companies</a></li>
<li>  <a href="#vehicle-journey">vehicle_journeys</a></li>
<li>  <a href="#disruption">disruptions</a></li>
</ul>

<h3 id="parameters">Parameters</h3>

<h4 id="depth"><a name="depth"></a>depth</h4>

<p>This tiny parameter can expand Navitia power by making it more wordy.
Here is some examples around &ldquo;metro line 1&rdquo; from the Parisian network:</p>

<ul>
<li>Get &ldquo;line 1&rdquo; id

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro%201">https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro%201</a></li>
<li>The id is &ldquo;line:OIF:100110001:1OIF439&rdquo;</li>
</ul></li>
<li>Get routes for this line

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes">https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes</a></li>
</ul></li>
<li>Want to get a tiny response? Just add &ldquo;depth=0&rdquo;

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=0">https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=0</a></li>
<li>The response is lighter (parent lines disappear for example)</li>
</ul></li>
<li>Want more informations, just add &ldquo;depth=2&rdquo;

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=2">https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=2</a></li>
<li>The response is a little more verbose (with some geojson appear in response)</li>
</ul></li>
<li>Wanna fat more informations, let&rsquo;s try &ldquo;depth=3&rdquo;

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=3">https://api.navitia.io/v1/coverage/fr-idf/lines/line:OIF:100110001:1OIF439/routes?depth=3</a></li>
<li>Big response: all stop_points are shown</li>
</ul></li>
<li>Wanna spam the internet bandwidth? Try &ldquo;depth=42&rdquo;

<ul>
<li>No. There is a technical limit with &ldquo;depth=3&rdquo;</li>
</ul></li>
</ul>

<h4 id="odt-level">odt level</h4>

<ul>
<li>  Type: String</li>
<li>  Default value: all</li>
<li>  Warning: works ONLY with <em>/<a href="#line">line</a>s</em> collection&hellip;</li>
</ul>

<p>It allows you to request navitia for specific pickup lines. It refers to
the <a href="#odt">odt</a> section. &ldquo;odt_level&rdquo; can take one of these values:</p>

<ul>
<li>  all (default value): no filter, provide all public transport lines,
whatever its type</li>
<li>  scheduled : provide only regular lines (see the <a href="#odt">odt</a> section)</li>
<li>  with_stops : to get regular, &ldquo;odt_with_stop_time&rdquo; and &ldquo;odt_with_stop_point&rdquo; lines.

<ul>
<li>  You can easily request route_schedule and stop_schedule with these kind of lines.</li>
<li>  Be aware of &ldquo;estimated&rdquo; stop times</li>
</ul></li>
<li>  zonal : to get &ldquo;odt_with_zone&rdquo; lines with non-detailed journeys</li>
</ul>

<p>For example</p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines">https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines</a></p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:Lignes18/lines?odt_level=scheduled">https://api.navitia.io/v1/coverage/fr-nw/networks/network:Lignes18/lines?odt_level=scheduled</a></p>

<h4 id="distance">distance</h4>

<ul>
<li>  Type: Integer</li>
<li>  Default value: 200</li>
</ul>

<p>If you specify coords in your filter, you can modify the radius used for
the proximity search.
<a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500</a></p>

<h4 id="headsign">headsign</h4>

<ul>
<li>  Type: String</li>
</ul>

<p>If given, add a filter on the vehicle journeys that has the given value
as headsign (on vehicle journey itself or at a stop time).</p>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=CANE">https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=CANE</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=CANE">https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=CANE</a></li>
</ul>

<aside class="warning">
    This last request gives the stop areas used by the vehicle
    journeys containing the headsign CANE, <b>not</b> the stop areas where it
    exists a stop time with the headsign CANE.
</aside>

<h4 id="since-until">since / until</h4>

<ul>
<li>  Type: <a href="#iso-date-time">iso-date-time</a></li>
</ul>

<p>To be used only on &ldquo;vehicle_journeys&rdquo; collection, to filter on a
period. Both parameters &ldquo;until&rdquo; and &ldquo;since&rdquo; are optional.</p>

<p>Example:</p>

<ul>
<li>  Getting every active New Jersey vehicles between 12h00 and 12h01, on a specific date <a href="https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20160503T120000&amp;until=20160503T120100">https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20160503T120000&amp;until=20160503T120100</a></li>
</ul>

<aside class="warning">
    This filter is applied using only the first stop time of a
    vehicle journey, &ldquo;since&rdquo; is included and &ldquo;until&rdquo; is excluded.
</aside>

<h3 id="filter"><a name="filter"></a>Filter</h3>

<p>It is possible to apply a filter to the returned collection, using
&ldquo;filter&rdquo; parameter. If no object matches the filter, a &ldquo;bad_filter&rdquo;
error is sent. If filter can not be parsed, an &ldquo;unable_to_parse&rdquo; error
is sent. If object or attribute provided is not handled, the filter is
ignored.</p>

<h4 id="collection-has_code">{collection}.has_code</h4>
<pre class="highlight shell"><code>
<span class="c">#on every object, you can find codes, like:</span>

    <span class="s2">"codes"</span> :
    <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"type"</span>: <span class="s2">"external_code"</span>,
            <span class="s2">"value"</span>: <span class="s2">"RATCAMPO"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"type"</span> : <span class="s2">"source"</span>,
            <span class="s2">"value"</span> : <span class="s2">"CAMPO"</span>
        <span class="o">}</span>
    <span class="o">]</span>

<span class="c">#you can request for object with a specific code</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas?filter=stop_area.has_code(source,CAMPO)'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

</code></pre>

<p>Every object managed by Navitia comes with its own list of ids. 
You will find some source ids, merge ids, etc. in &ldquo;codes&rdquo; list in json responses.
Be careful, these codes may not be unique. The navitia id is the only unique id.</p>

<p>You may have to request an object by one of these ids, in order to call an external service for example.</p>

<p>The filter format is <code class="prettyprint">filter={collection_name}.has_code({code_type},{code_value})</code></p>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)">https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1)">https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891615)">https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891615)</a></li>
</ul>

<h4 id="line-code">line.code</h4>

<p>It allows you to request navitia objects referencing a line whose code
is the one provided, especially lines themselves and routes.</p>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4">https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=%22m%C3%A9tro%20347%22">https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=&ldquo;métro 347&rdquo;</a></li>
</ul>

<h3 id="few-exploration-examples">Few exploration examples</h3>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/physical_modes'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="s2">"..."</span>
    <span class="o">]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>
        <span class="s2">"..."</span>
    <span class="o">}</span>,
    <span class="s2">"physical_modes"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Bus"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Bus"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Métro"</span>
        <span class="o">}</span>,
        <span class="s2">"..."</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Other examples</p>

<ul>
<li>  Network list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
</ul></li>
<li>  Physical mode list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/physical_modes</a></li>
</ul></li>
<li>  Line list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines">https://api.navitia.io/v1/coverage/fr-idf/lines</a></li>
</ul></li>
<li>  Line list for one mode

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
</ul>

<p>But you will find lots of more advanced example in <a href="#a-quick-exploration">a quick exploration</a>
chapter</p>

<h2 id="autocomplete-on-public-transport-objects"><a name="pt-objects"></a>Autocomplete on Public Transport objects </h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%204&amp;type\[\]=line&amp;type\[\]=route'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"embedded_type"</span>: <span class="s2">"line"</span>,
            <span class="s2">"line"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"line:RAT:M4"</span>,
            <span class="s2">"name"</span>: <span class="s2">"RATP Metro 4 (Porte de Clignancourt - Mairie de Montrouge)"</span>
        <span class="o">}</span>,
     <span class="o">]</span>,
<span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/pt_objects</code> service.</p>

<p>This endpoint allows you to search in public transport objects using their names. It&rsquo;s a kind
of magical <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> on public transport data. 
It returns a collection of <a href="#pt-object">pt_object</a>.</p>

<h3 id="how-does-it-works">How does it works</h3>

<p>Differents kind of objects can be returned (sorted as):</p>

<ul>
<li>  network</li>
<li>  commercial_mode</li>
<li>  line</li>
<li>  route</li>
<li>  stop_area</li>
</ul>

<p>Here is a typical use case. A traveler has to find a line between the
1500 lines around Paris. 
For example, he could key without any filters:</p>

<div data-collapse>
    <p>traveler input: &ldquo;bob&rdquo;</p>
    <ul>
        <li>network : &ldquo;bobby network&rdquo;</li>
        <li>line : &ldquo;bobby bus 1&rdquo;</li>
        <li>line : &ldquo;bobby bus 2&rdquo;</li>
        <li>route : &ldquo;bobby bus 1 to green&rdquo;</li>
        <li>route : &ldquo;bobby bus 1 to rose&rdquo;</li>
        <li>route : &ldquo;bobby bus 2 to yellow&rdquo;</li>
        <li>stop_area : &ldquo;&hellip;</li>
    </ul>
</div>

<div data-collapse>
    <p>traveler input: &quot;bobby met&rdquo;</p>
    <ul>
        <li>line : &ldquo;bobby metro 1&rdquo;</li>
        <li>line : &ldquo;bobby metro 11&rdquo;</li>
        <li>line : &ldquo;bobby metro 2&rdquo;</li>
        <li>line : &ldquo;bobby metro 3&rdquo;</li>
        <li>route : &ldquo;bobby metro 1 to Martin&rdquo;</li>
        <li>route : &ldquo;bobby metro 1 to Mahatma&rdquo;</li>
        <li>route : &ldquo;bobby metro 11 to Marcus&rdquo;</li>
        <li>route : &ldquo;bobby metro 11 to Steven&rdquo;</li>
        <li>route : &ldquo;&hellip;</li>
    </ul>
</div>

<div data-collapse>
    <p>traveler input: &quot;bobby met 11&rdquo; or &ldquo;bobby metro 11&rdquo;</p>
    <ul>
        <li>line : &ldquo;bobby metro 11&rdquo;</li>
        <li>route : &ldquo;bobby metro 11 to Marcus&rdquo;</li>
        <li>route : &ldquo;bobby metro 11 to Steven&rdquo;</li>
    </ul>
</div>

<h3 id="access">Access</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/pt_objects</code></td>
<td>List of public transport objects</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code class="prettyprint">network</code>, <code class="prettyprint">commercial_mode</code>, <code class="prettyprint">line</code>, <code class="prettyprint">route</code>, <code class="prettyprint">stop_area</code>]</td>
<td>[<code class="prettyprint">network</code>, <code class="prettyprint">commercial_mode</code>, <code class="prettyprint">line</code>, <code class="prettyprint">route</code>, <code class="prettyprint">stop_area</code>]</td>
</tr>
</tbody></table>

<aside class="warning">
There is no pagination for this api
</aside>

<h2 id="autocomplete-on-geographical-objects"><a name="places"></a>Autocomplete on geographical objects</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/places?q=rue'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"places"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_area"</span>,
        <span class="s2">"stop_area"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"id"</span>: <span class="s2">"stop_area:RAT:SA:RDBAC"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Rue du Bac (Paris)"</span>
        <span class="o">}</span>,
        ...
    <span class="o">]</span>,
    <span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/places</code> service.</p>

<p>This endpoint allows you to search in all geographical objects using their names, returning
a <a href="#place">place</a> collection.</p>

<p>It is very useful to make some <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> stuff ie 
to understand the user input even if he has mittens.</p>

<p>Differents kind of objects can be returned (sorted as):</p>

<ul>
<li>  administrative_region</li>
<li>  stop_area</li>
<li>  poi</li>
<li>  address</li>
<li>  stop_point (appears only if specified, using &ldquo;&amp;type[]=stop_point&rdquo;
filter)</li>
</ul>

<aside class="warning">
    There is no pagination for this api.
</aside>

<h3 id="access">Access</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/places</code></td>
<td>List of geographical objects</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code class="prettyprint">stop_area</code>, <code class="prettyprint">address</code>, <code class="prettyprint">administrative_region</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">stop_point</code>]</td>
<td>[<code class="prettyprint">stop_area</code>, <code class="prettyprint">address</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">administrative_region</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>admin_uri[]</td>
<td>array of string</td>
<td>If filled, it will filter the search within the given admin uris</td>
<td></td>
</tr>
</tbody></table>

<h2 id="places-nearby"><a name="places-nearby-api"></a>Places Nearby</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:CAMPO/places_nearby'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"places_nearby"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_point"</span>,
        <span class="s2">"stop_point"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"distance"</span>: <span class="s2">"0"</span>,
        <span class="s2">"quality"</span>: 0,
        <span class="s2">"id"</span>: <span class="s2">"stop_point:RAT:SP:CAMPO2"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Campo-Formio (Paris)"</span>
    <span class="o">}</span>,
    ....
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/places_nearby</code> service.</p>

<p>This endpoint allowe you to search for public transport objects that are near another object, or nearby
coordinates, returning a <a href="#place">places</a> collection.</p>

<aside class="warning">
    There is no pagination for this api.
</aside>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coord/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource without any region id</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource without any region id</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{resource_path}/places_nearby</code></td>
<td>List of objects near the resource</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>distance</td>
<td>int</td>
<td>Distance range in meters</td>
<td>500</td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query</td>
<td>[<code class="prettyprint">stop_area</code>, <code class="prettyprint">stop_point</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">administrative_region</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>admin_uri[]</td>
<td>array of string</td>
<td>If filled, will filter the search within the given admin uris</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>filter</td>
<td>string</td>
<td>Use to filter returned objects. for example: places_type.id=theater</td>
<td></td>
</tr>
</tbody></table>

<p>Filters can be added:</p>

<ul>
<li>  request for the city of &ldquo;Paris&rdquo; on fr-idf

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=paris">https://api.navitia.io/v1/coverage/fr-idf/places?q=paris</a></li>
</ul></li>
<li>  then pois nearby this city

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby</a></li>
</ul></li>
<li>  and then, let&rsquo;s catch every parking around

<ul>
<li>  &ldquo;distance=10000&rdquo; Paris is not so big</li>
<li>  &ldquo;type[]=poi&rdquo; to take pois only</li>
<li>  &ldquo;filter=poi_type.id=poi_type:amenity:parking&rdquo; to get parking</li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&amp;count=100&amp;type%5B%5D=poi&amp;filter=poi_type.id=poi_type:amenity:parking">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&amp;count=100&amp;type[]=poi&amp;filter=poi_type.id=poi_type:amenity:parking</a></li>
</ul></li>
</ul>

<h2 id="journeys"><a name="journeys"></a>Journeys</h2>

<p>Also known as <code class="prettyprint">/journeys</code> service. This api computes journeys.</p>

<p>There are two ways to access this api.</p>

<p>The first one is: <a href="https://api.navitia.io/v1/%7Ba_path_to_resource%7D/journeys">https://api.navitia.io/v1/{a_path_to_resource}/journeys</a> it will
retrieve all the journeys from the resource (in order to make <em><a href="https://en.wikipedia.org/wiki/Isochrone_map">isochrone maps</a></em>).</p>

<p>The other one, the most used, is to access the &lsquo;journey&rsquo; api endpoint:
<a href="https://api.navitia.io/v1/journeys?from=%7Bresource_id_1%7D&amp;to=%7Bresource_id_2%7D&amp;datetime=%7Bdate_time_to_leave%7D">https://api.navitia.io/v1/journeys?from={resource_id_1}&amp;to={resource_id_2}&amp;datetime={date_time_to_leave}</a> .</p>

<aside class="notice">
    Navitia.io handle lot&rsquo;s of different data sets (regions). Some of them
    can overlap. For example opendata data sets can overlap with private
    data sets.
    <br>
    When using the journeys endpoint the data set used to compute the
    journey is chosen using the possible datasets of the origin and the
    destination.
    <br>
    For the moment it is not yet possible to compute journeys on different
    data sets, but it will one day be possible (with a cross-data-set
    system).
</aside>

<p>In the <a href="#examples">examples</a>, positions are given by coordinates and no network is specified.
However when no coordinates are provided, you need to provide on what region you want to request as
<a href="https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682">https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a></p>

<p>The list of regions covered by navitia is available through <a href="#coverage">coverage</a>.</p>

<aside class="notice">
    If you want to use a specific data set, use the journey api within the
    data set: https://api.navitia.io/v1/coverage/{your_dataset}/journeys
</aside>

<aside class="success">
    Neither the 'from&rsquo; nor the 'to&rsquo; parameter of the journey are required,
    but obviously one of them has to be provided.
    <br>
    If only one is defined an isochrone is computed with every possible
    journeys from or to the point.
</aside>

<p><a
    href="http://jsfiddle.net/gh/get/jquery/2.2.2/CanalTP/navitia/tree/documentation/slate/source/examples/jsFiddle/journeys/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/journeys</code></td>
<td>List of journeys from wherever land</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/journeys</code></td>
<td>List of journeys on a specific coverage</td>
</tr>
</tbody></table>

<h3 id="main-parameters"><a name="journeys-parameters"></a>Main parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time to go</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>datetime_represents</td>
<td>string</td>
<td>Can be <code class="prettyprint">departure</code> or <code class="prettyprint">arrival</code>.<br>If <code class="prettyprint">departure</code>, the request will retrieve journeys starting after datetime.<br>If <code class="prettyprint">arrival</code> it will retrieve journeys arriving before datetime.</td>
<td>departure</td>
</tr>
<tr>
<td>nop</td>
<td><a name="traveler-type"></a>traveler_type</td>
<td>enum</td>
<td>Define speeds and accessibility values for different kind of people.<br>Each profile also automatically determines appropriate first and last section modes to the covered area. You can overload all parameters (especially speeds, distances, first and last modes) by setting all of them specifically<br><div data-collapse><p>enum values:</p><ul><li>standard</li><li>slow_walker</li><li>fast_walker</li><li>luggage</li></ul></div></td>
<td>standard</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul> <em><strong>when using the following parameter</strong></em> &ldquo;&amp;data_freshness=base_schedule&rdquo; <br> you can get disrupted journeys in the response. You can then display the disruption message to the traveler and make a realtime request to get a new undisrupted solution.</td>
<td>base_schedule</td>
</tr>
</tbody></table>

<h3 id="other-parameters">Other parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of string</td>
<td>Force the first section mode if the first section is not a public transport one. It takes one the following values: walking, car, bike, bss.<br>bss stands for bike sharing system.<br>It&rsquo;s an array, you can give multiple modes.<br>Note: choosing bss implicitly allows the walking mode since you might have to walk to the bss station</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>max_duration_to_pt</td>
<td>int</td>
<td>Maximum allowed duration to reach the public transport.<br>Use this to limit the walking/biking part.<br>Unit is seconds</td>
<td>15*60 s</td>
</tr>
<tr>
<td>nop</td>
<td>walking_speed</td>
<td>float</td>
<td>Walking speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>1.12 m/s<br>(4 km/h)<br><em>Yes, man, they got the metric system</em></td>
</tr>
<tr>
<td>nop</td>
<td>bike_speed</td>
<td>float</td>
<td>Biking speed for the fallback<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>bss_speed</td>
<td>float</td>
<td>Speed while using a bike from a bike sharing system for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>car_speed</td>
<td>float</td>
<td>Driving speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>16.8 m/s<br>(60 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_journeys</td>
<td>int</td>
<td>Minimum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_journeys</td>
<td>int</td>
<td>Maximum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Fixed number of different journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_tranfers</td>
<td>int</td>
<td>Maximum number of transfers in each journey</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>max_duration</td>
<td>int</td>
<td>Maximum duration of journeys in secondes. Really useful when computing an isochrone</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>disruption_active</td>
<td>boolean</td>
<td>For compatibility use only.<br>If true the algorithm take the disruptions into account, and thus avoid disrupted public transport.<br>Rq: <code class="prettyprint">disruption_active=true</code> = <code class="prettyprint">data_freshness=realtime</code> <br>Use <code class="prettyprint">data_freshness</code> parameter instead</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>wheelchair</td>
<td>boolean</td>
<td>If true the traveler is considered to be using a wheelchair, thus only accessible public transport are used<br>be warned: many data are currently too faint to provide acceptable answers with this parameter on</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>debug</td>
<td>boolean</td>
<td>Debug mode<br>No journeys are filtered in this mode</td>
<td>False</td>
</tr>
</tbody></table>

<h3 id="objects">Objects</h3>

<p>Here is a typical journey, all sections are detailed below</p>

<p><img alt="image" src="images/typical_itinerary.png" /></p>

<h4 id="main-response">Main response</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>journeys</td>
<td>array of <a href="#journey">journeys</a></td>
<td>List of computed journeys</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to the journeys</td>
</tr>
</tbody></table>

<h4 id="journey">Journey</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of the journey</td>
</tr>
<tr>
<td>nb_transfers</td>
<td>int</td>
<td>Number of transfers in the journey</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Departure date and time of the journey</td>
</tr>
<tr>
<td>requested_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Requested date and time of the journey</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Arrival date and time of the journey</td>
</tr>
<tr>
<td>sections</td>
<td>array of <a href="#section">section</a></td>
<td>All the sections of the journey</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey starts</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey ends</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this journey</td>
</tr>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Used to qualify a journey. See the <a href="#journey-qualif">journey-qualif</a> section for more information</td>
</tr>
<tr>
<td>fare</td>
<td><a href="#fare">fare</a></td>
<td>Fare of the journey (tickets and price)</td>
</tr>
<tr>
<td>tags</td>
<td>array of string</td>
<td>List of tags on the journey. The tags add additional information on the journey beside the journey type. See for example <a href="#multiple-journeys">multiple_journeys</a>.</td>
</tr>
<tr>
<td>status</td>
<td><em>enum</em></td>
<td>Status from the whole journey taking into acount the most disturbing information retrieved on every object used. Can be: <ul><li>NO_SERVICE</li><li>REDUCED_SERVICE</li><li>SIGNIFICANT_DELAYS</li><li>DETOUR</li><li>ADDITIONAL_SERVICE</li><li>MODIFIED_SERVICE</li><li>OTHER_EFFECT</li><li>UNKNOWN_EFFECT</li><li>STOP_MOVED</li></ul> In order to get a undisrupted journey, you just have to add a <em>&amp;data_freshness=realtime</em> parameter</td>
</tr>
</tbody></table>

<aside class="notice">
    When used with just a &ldquo;from&rdquo; or a &ldquo;to&rdquo; parameter, it will not contain any sections.
</aside>

<h4 id="section">Section</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td><div data-collapse><p>Type of the section.</p><ul><li><code class="prettyprint">public_transport</code>: public transport section</li><li><code class="prettyprint">street_network</code>: street section</li><li><code class="prettyprint">waiting</code>: waiting section between transport</li><li><p><code class="prettyprint">stay_in</code>: this “stay in the vehicle” section occurs when the traveller has to stay in the vehicle when the bus change its routing. Here is an exemple for a journey from A to B: (lollipop line)</p><p><img alt="image" src="images/stay_in.png" /></p></li><li><code class="prettyprint">transfer</code>: transfert section</li><li><p><code class="prettyprint">crow_fly</code>: teleportation section. Used when starting or arriving to a city or a stoparea (“potato shaped” objects) Useful to make navitia idempotent. Be careful: no “path” nor “geojson” items in this case</p><p><img alt="image" src="images/crow_fly.png" /></p></li><li><code class="prettyprint">on_demand_transport</code>: vehicle may not drive along: traveler will have to call agency to confirm journey</li><li><code class="prettyprint">bss_rent</code>: taking a bike from a bike sharing system (bss)</li><li><code class="prettyprint">bss_put_back</code>: putting back a bike from a bike sharing system (bss)</li><li><code class="prettyprint">boarding</code>: boarding on plane</li><li><code class="prettyprint">landing</code>: landing off the plane</li></ul></div></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the section</td>
</tr>
<tr>
<td>mode</td>
<td><em>enum</em> string</td>
<td>Mode of the street network: <code class="prettyprint">Walking</code>, <code class="prettyprint">Bike</code>, <code class="prettyprint">Car</code></td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of this section</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>Origin place of this section</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>Destination place of this section</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links related to this section</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Useful information to display</td>
</tr>
<tr>
<td>additionnal_informations</td>
<td><em>enum</em> string</td>
<td>Other information. It can be: <ul><li><code class="prettyprint">regular</code>: no on demand transport (odt)</li><li><code class="prettyprint">has_date_time_estimated</code>: section with at least one estimated date time</li><li><code class="prettyprint">odt_with_stop_time</code>: odt with fixed schedule, but travelers have to call agency!</li><li><code class="prettyprint">odt_with_stop_point</code>: odt where pickup or drop off are specific points</li><li><code class="prettyprint">odt_with_zone</code>: odt which is like a cab, from wherever you want to wherever you want, whenever it is possible</li></ul></td>
</tr>
<tr>
<td>geojson</td>
<td><a href="http://www.geojson.org">GeoJson</a></td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>Array of <a href="#path">path</a></td>
<td>The path of this section</td>
</tr>
<tr>
<td>transfer_type</td>
<td><em>enum</em> string</td>
<td>The type of this transfer it can be: <code class="prettyprint">walking</code>, <code class="prettyprint">guaranteed</code>, <code class="prettyprint">extension</code></td>
</tr>
<tr>
<td>stop_date_times</td>
<td>Array of <a href="#stop_date_time">stop_date_time</a></td>
<td>List of the stop times of this section</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of departure</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of arrival</td>
</tr>
</tbody></table>

<h4 id="path">Path</h4>

<p>A path object in composed of an array of <a href="#path-item">path_item</a> (segment).</p>

<h4 id="path-item">Path item</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>length</td>
<td>int</td>
<td>Length (in meter) of the segment</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the way corresponding to the segment</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>duration (in seconds) of the segment</td>
</tr>
<tr>
<td>direction</td>
<td>int</td>
<td>Angle (in degree) between the previous segment and this segment.<br><ul><li>0 means going straight</li><li>&gt; 0 means turning right</li><li>&lt; 0 means turning left</li></ul><br>Hope it&rsquo;s easier to understand with a picture: <img alt="image" src="images/direction.png" /></td>
</tr>
</tbody></table>

<h4 id="fare">Fare</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td><a href="#cost">cost</a></td>
<td>total cost of the journey</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if no fare has been found for the journey, True otherwise</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this object. Link with related <a href="#ticket">tickets</a></td>
</tr>
</tbody></table>

<h4 id="cost">Cost</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>float</td>
<td>cost</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency</td>
</tr>
</tbody></table>

<h4 id="ticket">Ticket</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the ticket</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the ticket</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if unknown ticket, True otherwise</td>
</tr>
<tr>
<td>cost</td>
<td><a href="#cost">cost</a></td>
<td>Cost of the ticket</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Link to the <a href="#section">section</a> using this ticket</td>
</tr>
</tbody></table>

<h2 id="route-schedules-and-time-tables"><a name="route-schedules"></a>Route Schedules and time tables</h2>

<p>Also known as <code class="prettyprint">/route_schedules</code> service.</p>

<p>This endpoint gives you access to schedules of routes, with a response made
of an array of <a href="#route-schedule">route_schedule</a>, and another one of <a href="#note">note</a>. You can
access it via that kind of url: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/route_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/route_schedules</a></p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">coverage/{resource_path}/route_schedules</code></td>
<td>List of the entire route schedules for a given resource</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/route_schedules</code></td>
<td>List of the entire route schedules for coordinates</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of columns per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use<br><ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>base_schedule</td>
</tr>
</tbody></table>

<h3 id="objects">Objects</h3>

<h4 id="route_schedule-object"><a name="route-schedule">route_schedule object</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>Table</td>
<td><a href="#table">table</a></td>
<td>The schedule table</td>
</tr>
</tbody></table>

<h4 id="table">table</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Headers</td>
<td>Array of <a href="#header">header</a></td>
<td>Informations about vehicle journeys</td>
</tr>
<tr>
<td>Rows</td>
<td>Array of <a href="#row">row</a></td>
<td>A row of the schedule</td>
</tr>
</tbody></table>

<h4 id="header">header</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additionnal_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the the vehicle journey to display</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links to <a href="#line">line</a>, vehicle_journey, <a href="#route">route</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#physical-mode">physical_mode</a>, <a href="#network">network</a></td>
</tr>
</tbody></table>

<h4 id="row">row</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>Array of public transport formated date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the row</td>
</tr>
</tbody></table>

<h2 id="stop-schedules-and-other-kind-of-time-tables"><a name="stop-schedules"></a>Stop Schedules and other kind of time tables</h2>

<p>Also known as <code class="prettyprint">/stop_schedules</code> service.</p>

<p>This endpoint gives you access to time tables going through a stop
point as:
<img alt="stop_schedules" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" /></p>

<p>The response is made of an array of <a href="#stop-schedule">stop_schedule</a>, and another
one of <a href="#note">note</a>. 
You can access it via that kind of url: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/stop_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/stop_schedules</a></p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code class="prettyprint">stop_point/route</code> for coordinates</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{resource_path}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code class="prettyprint">stop_point/route</code> for a given resource</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of datetimes per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>base_schedule</td>
</tr>
</tbody></table>

<h3 id="stop_schedule-object"><a name="stop-schedule"></a>Stop_schedule object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>When does a bus stops at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
<tr>
<td>additional_informations</td>
<td><a href="#additional-informations">additional_informations</a></td>
<td>Other informations, when no departures <div data-collapse><p>enum values:</p><ul><li>date_out_of_bound</li><li>terminus</li><li>active_disruption</li><li>no_departures_known</li></ul></div></td>
</tr>
</tbody></table>

<h2 id="departures"><a name="departures"></a>Departures</h2>

<p>Also known as <code class="prettyprint">/departures</code> service.</p>

<p>This endpoint retrieves a list of departures from a specific datetime of a selected
object. 
Departures are ordered chronologically in ascending order as:
<img alt="departures" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" /></p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{resource_path}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>realtime</td>
</tr>
</tbody></table>

<h3 id="departure-objects">Departure objects</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>stop_date_time</td>
<td>Array of <a href="#stop_date_time">stop_date_time</a></td>
<td>Occurs when a bus does a stopover at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
</tbody></table>

<h2 id="arrivals"><a name="arrivals"></a>Arrivals</h2>

<p>Also known as <code class="prettyprint">/arrivals</code> service.</p>

<p>This endpoint retrieves a list of arrivals from a specific datetime of a selected
object. Arrivals are ordered chronologically in ascending order.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{resource_path}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<p>they are exactly the same as <a href="#departures">departures</a></p>

<h2 id="traffic-reports"><a name="traffic-reports"></a>Traffic reports</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'http://api.navitia.io/v1/coverage/sandbox/traffic_reports'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
        <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="c">#main object (network) and links within its own disruptions</span>
        <span class="o">}</span>,
        <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted lines from the network and disruptions links</span>
        <span class="o">]</span>,
        <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted stop_areas from the network and disruptions links</span>
        <span class="o">]</span>,
    <span class="o">]</span>,
    <span class="o">[</span>
        <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="c">#another network</span>
        <span class="o">}</span>,
        <span class="s2">"lines"</span>: <span class="o">[</span>...],
        <span class="s2">"stop_areas"</span>: <span class="o">[</span>...],
    <span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>...],
<span class="s2">"link"</span>: <span class="o">{</span> ... <span class="o">}</span>,
<span class="s2">"pagination"</span>: <span class="o">{</span> ... <span class="o">}</span>
<span class="o">}</span>

</code></pre>

<blockquote>
<p>the response above is composed from 2 main lists : &ldquo;traffic_reports&rdquo; and &ldquo;disruptions&rdquo;</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#response details and links between objects</span>
<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
    <span class="s2">"network"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"bob"</span>, <span class="s2">"links"</span>: <span class="o">[]</span>, <span class="s2">"id"</span>: <span class="s2">"network:bob"</span><span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"1"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"12"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
 <span class="o">]</span>,
 <span class="o">[</span>
    <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobette"</span>,
        <span class="s2">"id"</span>: <span class="s2">"network:bobette"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"A"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"C"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
         ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,

<span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"active"</span>,
        <span class="s2">"severity"</span>: <span class="o">{</span><span class="s2">"color"</span>: <span class="s2">""</span>, <span class="s2">"priority"</span>: 4, <span class="s2">"name"</span>: <span class="s2">"Information"</span>, <span class="s2">"effect"</span>: <span class="s2">"UNKNOWN_EFFECT"</span><span class="o">}</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"green, super green"</span>, ...<span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"pink, floyd pink"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"red, mine"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"blue, grass"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"yellow, submarine"</span>, ... <span class="o">}</span>
        <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span><span class="o">}</span>,
        ...<span class="o">}</span>
    <span class="o">]</span>,
<span class="s2">"link"</span>: <span class="o">{</span> ... <span class="o">}</span>,
<span class="s2">"pagination"</span>: <span class="o">{</span> ... <span class="o">}</span>
<span class="o">}</span>

</code></pre>

<p>Also known as <code class="prettyprint">/traffic_reports</code> service.</p>

<p>This service provides the state of public transport traffic. It can be
called for an overall coverage or for a specific object.</p>

<h3 id="parameters">Parameters</h3>

<p>You can access it via that kind of url: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/traffic_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/traffic_reports</a></p>

<p>For example:</p>

<ul>
<li>  overall public transport traffic report on Ile de France coverage

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the RER network ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the &ldquo;RER A&rdquo; line ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/traffic_reports</a></li>
</ul></li>
</ul>

<p>The response is made of an array of <a href="#traffic-reports">traffic_reports</a>, and another one
of <a href="#disruption">disruptions</a>. There are inner links between this 2 arrays: see the
<a href="#inner-reference">inner-reference</a> section to use them.</p>

<h3 id="objects">Objects</h3>

<h4 id="traffic-report">Traffic report</h4>

<p>Traffic_reports is an array of some traffic_report object. One
traffic_report object is a complex object, made of a network, an array
of lines and an array of stop_areas. A typical traffic_report object
will contain:</p>

<ul>
<li>  1 network which is the grouping object

<ul>
<li>  it can contain links to its disruptions. These disruptions are globals and might not be applied on lines or stop_areas.</li>
</ul></li>
<li>  0..n lines

<ul>
<li>  each line contains at least a link to its disruptions</li>
</ul></li>
<li>  0..n stop_areas

<ul>
<li>  each stop_area contains at least a link to its disruptions</li>
</ul></li>
</ul>

<p>It means that if a stop_area is used by many networks, it will appear
many times.</p>

<p>This typical response means:</p>

<ul>
<li>  traffic_reports

<ul>
<li>  network &ldquo;bob&rdquo;

<ul>
<li>  line &ldquo;1&rdquo; &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  line &ldquo;12&rdquo; &gt; internal link to disruption &ldquo;pink&rdquo;</li>
<li>  stop_area &ldquo;bobito&rdquo; &gt; internal link to disruption &ldquo;red&rdquo;</li>
</ul></li>
<li>  network &ldquo;bobette&rdquo; &gt; internal link to disruption &ldquo;blue&rdquo;

<ul>
<li>  line &ldquo;A&rdquo; &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  line &ldquo;C&rdquo; &gt; internal link to disruption &ldquo;yellow&rdquo;</li>
<li>  stop_area &ldquo;bobito&rdquo; &gt; internal link to disruption &ldquo;red&rdquo;</li>
</ul></li>
</ul></li>
<li>  disruptions (disruption target links)

<ul>
<li>  disruption &ldquo;green&rdquo;</li>
<li>  disruption &ldquo;pink&rdquo;</li>
<li>  disruption &ldquo;red&rdquo;</li>
<li>  disruption &ldquo;blue&rdquo;</li>
<li>  disruption &ldquo;yellow&rdquo;</li>
<li>  Each disruption contains the messages to show.</li>
</ul></li>
</ul>

<p>Details for disruption objects : <a href="#disruptions">disruptions</a></p>

          <h1 id="objects">Objects</h1>

<h2 id="standard-objects">Standard Objects</h2>

<h3 id="coord">Coord</h3>

<p>Lots of object are geographically localized :</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lon</td>
<td>float</td>
<td>Longitude</td>
</tr>
<tr>
<td>lat</td>
<td>float</td>
<td>Latitude</td>
</tr>
</tbody></table>

<h3 id="iso-date-time">Iso-date-time</h3>

<p>Navitia manages every date or time as a UTC date-time. The web-service </p>

<ul>
<li>  exposes every date times as local times via an ISO 8601 &ldquo;YYYYMMDDThhmmss&rdquo; string</li>
<li>  can be request using local times via an ISO 8601 &ldquo;YYYYMMDDThhmmss&rdquo; string</li>
</ul>

<p>For example: <a href="https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=20140425T1337">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=20140425T1337</a></p>

<p>There are lots of ISO 8601 libraries in every kind of language that you should use before breaking down <a href="https://youtu.be/-5wpm-gesOY">https://youtu.be/-5wpm-gesOY</a></p>

<h2 id="public-transport-objects">Public transport objects</h2>

<h3 id="network">Network</h3>

<p>Networks are fed by agencies in GTFS format.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the network</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the network</td>
</tr>
</tbody></table>

<h3 id="line">Line</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the line</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the line</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Code name of the line</td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>Color of the line</td>
</tr>
<tr>
<td>routes</td>
<td>array of <a href="#route">route</a></td>
<td>Routes of the line</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial mode of the line</td>
</tr>
</tbody></table>

<h3 id="route">Route</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the route</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the route</td>
</tr>
<tr>
<td>is_frequence</td>
<td>bool</td>
<td>Is the route has frequency or not</td>
</tr>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>The line of this route</td>
</tr>
<tr>
<td>direction</td>
<td><a href="#place">place</a></td>
<td>The direction of this route</td>
</tr>
</tbody></table>

<p>As &ldquo;direction&rdquo; is a <a href="#place">place</a> , it can be a poi in some data.</p>

<h3 id="stop-point"><a name="stop-point"></a>Stop Point</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop point</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop point</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop point</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop point in which is the stop point</td>
</tr>
<tr>
<td>equipments</td>
<td>array of string</td>
<td>list of <a href="#equipment">equipment</a> of the stop point</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Stop Area containing this stop point</td>
</tr>
</tbody></table>

<h3 id="stop-area"><a name="stop-area"></a>Stop Area</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop area</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop area</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop area</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop area in which is the stop area</td>
</tr>
<tr>
<td>stop_points</td>
<td>array of <a href="#stop-point">stop_point</a></td>
<td>Stop points contained in this stop area</td>
</tr>
</tbody></table>

<h3 id="commercial-mode"><a name="commercial-mode"></a>Commercial Mode</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the commercial mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the commercial mode</td>
</tr>
<tr>
<td>physical_modes</td>
<td>array of <a href="#physical-mode">physical_mode</a></td>
<td>Physical modes of this commercial mode</td>
</tr>
</tbody></table>

<h3 id="physical-mode"><a name="physical-mode"></a>Physical Mode</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the physical mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the physical mode</td>
</tr>
<tr>
<td>commercial_modes</td>
<td>array of <a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial modes of this physical mode</td>
</tr>
</tbody></table>

<p>Physical modes are fastened and normalized. If you want to propose modes
filter in your application, you should use <a href="#physical-mode">physical_mode</a> rather than
<a href="#commercial-mode">commercial_mode</a>.</p>

<p>Here is the valid id list:</p>

<ul>
<li>  physical_mode:Air</li>
<li>  physical_mode:Boat</li>
<li>  physical_mode:Bus</li>
<li>  physical_mode:BusRapidTransit</li>
<li>  physical_mode:Coach</li>
<li>  physical_mode:Ferry</li>
<li>  physical_mode:Funicular</li>
<li>  physical_mode:LocalTrain</li>
<li>  physical_mode:LongDistanceTrain</li>
<li>  physical_mode:Metro</li>
<li>  physical_mode:RapidTransit</li>
<li>  physical_mode:Shuttle</li>
<li>  physical_mode:Taxi</li>
<li>  physical_mode:Train</li>
<li>  physical_mode:Tramway</li>
</ul>

<p>You can use these ids in the forbidden_uris[] parameter from
<a href="#journeys-parameters">journeys parameters</a> for exemple.</p>

<h3 id="company"><a name="company"></a>Company</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the company</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the company</td>
</tr>
</tbody></table>

<h3 id="place">Place</h3>

<p>A container containing either a <a href="#admin">admin</a>, <a href="#poi">poi</a>, <a href="#address">address</a>, <a href="#stop-area">stop_area</a>,
<a href="#stop-point">stop_point</a></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#embedded-type">embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>administrative_region</td>
<td><em>optional</em> <a href="#admin">admin</a></td>
<td>Embedded administrative region</td>
</tr>
<tr>
<td>stop_area</td>
<td><em>optional</em> <a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>poi</td>
<td><em>optional</em> <a href="#poi">poi</a></td>
<td>Embedded poi</td>
</tr>
<tr>
<td>address</td>
<td><em>optional</em> <a href="#address">address</a></td>
<td>Embedded address</td>
</tr>
<tr>
<td>stop_point</td>
<td><em>optional</em> <a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
</tbody></table>

<h3 id="pt_object"><a name="pt-object"></a>Pt_object</h3>

<p>A container containing either a <a href="#network">network</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#line">line</a>, <a href="#route">route</a>,
<a href="#stop_point">stop_area</a>, <a href="#stop_point">stop_area</a></p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#embedded-type">embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>stop_area</td>
<td><em>optional</em> <a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>stop_point</td>
<td><em>optional</em> <a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
<tr>
<td>network</td>
<td><em>optional</em> <a href="#network">network</a></td>
<td>Embedded network</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><em>optional</em> <a href="#commercial-mode">commercial_mode</a></td>
<td>Embedded commercial_mode</td>
</tr>
<tr>
<td>stop_area</td>
<td><em>optional</em> <a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>line</td>
<td><em>optional</em> <a href="#line">line</a></td>
<td>Embedded line</td>
</tr>
<tr>
<td>route</td>
<td><em>optional</em> <a href="#route">route</a></td>
<td>Embedded route</td>
</tr>
</tbody></table>

<h2 id="real-time-and-disruption-objects">Real time and disruption objects</h2>

<h3 id="disruption">Disruption</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>between: &ldquo;past&rdquo;, &ldquo;active&rdquo; or &ldquo;future&rdquo;</td>
<td>state of the disruption</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the disruption</td>
</tr>
<tr>
<td>disruption_id</td>
<td>string</td>
<td>for traceability: Id of original input disruption</td>
</tr>
<tr>
<td>severity</td>
<td><a href="#severity">severity</a></td>
<td>gives some categorization element</td>
</tr>
<tr>
<td>application_periods</td>
<td>array of <a href="#period">period</a></td>
<td>dates where the current disruption is active</td>
</tr>
<tr>
<td>messages</td>
<td><a href="#message">message</a></td>
<td>text to provide to the traveler</td>
</tr>
<tr>
<td>updated_at</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>date_time of last modifications</td>
</tr>
<tr>
<td>impacted_objects</td>
<td>array of <a href="#pt_object">pt_object</a></td>
<td>The list of public transport objects which are affected by the disruption</td>
</tr>
<tr>
<td>cause</td>
<td>string</td>
<td>why is there such a disruption?</td>
</tr>
</tbody></table>

<h3 id="message">Message</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
<td>a message to bring to a traveler</td>
</tr>
<tr>
<td>channel</td>
<td><a href="#channel">channel</a></td>
<td>destination media. Be careful, no normalized enum for now</td>
</tr>
</tbody></table>

<h3 id="severity">Severity</h3>

<p>Severity object can be used to make visual grouping.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color</td>
<td>string</td>
<td>HTML color for classification</td>
</tr>
<tr>
<td>priority</td>
<td>integer</td>
<td>given by the agency : 0 is strongest priority. it can be null</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of severity</td>
</tr>
<tr>
<td>effect</td>
<td>Enum</td>
<td>Normalized value of the effect on the public transport object See the GTFS RT documentation at <a href="https://developers.google.com/transit/gtfs-realtime/reference#Effect">https://developers.google.com/transit/gtfs-realtime/reference#Effect</a></td>
</tr>
</tbody></table>

<h3 id="channel">Channel</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>content_type</td>
<td>string</td>
<td>Like text/html, you know? Otherwise, take a look at <a href="http://www.w3.org/Protocols/rfc1341/4_Content-Type.html">http://www.w3.org/Protocols/rfc1341/4_Content-Type.html</a></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the Channel</td>
</tr>
</tbody></table>

<h3 id="period">Period</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>begin</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Beginning date and time of an activity period</td>
</tr>
<tr>
<td>end</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Closing date and time of an activity period</td>
</tr>
</tbody></table>

<h2 id="street-network-objects">Street network objects</h2>

<h3 id="poi">Poi</h3>

<p>Poi = Point Of Interest</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi</td>
</tr>
<tr>
<td>poi_type</td>
<td><a href="#poi-type">poi_type</a></td>
<td>Type of the poi</td>
</tr>
</tbody></table>

<h3 id="poi-type">Poi Type</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi type</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi type</td>
</tr>
</tbody></table>

<h3 id="address">Address</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>house_number</td>
<td>int</td>
<td>House number of the address</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the address in which is the stop area</td>
</tr>
</tbody></table>

<h3 id="administrative-region">Administrative region</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>Level of the admin</td>
</tr>
<tr>
<td>zip_code</td>
<td>string</td>
<td>Zip code of the admin</td>
</tr>
</tbody></table>

<p>Cities are mainly on the 8 level, dependant on the country
(<a href="http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative">http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative</a>)</p>

<h2 id="other-objects">Other objects</h2>

<h3 id="pt-date-time">pt-date-time</h3>

<p>pt-date-time (pt stands for &ldquo;public transport&rdquo;) is a complex date time object to manage the difference between stop and leaving times at a stop.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additionnal_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>internal links to notes</td>
</tr>
</tbody></table>

<h3 id="note">note</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>id of the note</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>The content of the note</td>
</tr>
</tbody></table>

<h3 id="stop_date_time">stop_date_time</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_time</td>
<td><a href="#pt-date-time">pt-date-time</a></td>
<td>A public transport date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>A stop point</td>
</tr>
</tbody></table>

<h3 id="embedded-type"><a name="embedded-type"></a>Embedded type</h3>

<p>Enum used to identify what kind of objects <em><a href="#places">/places</a></em>, <em><a href="#pt-objects">/pt_objects</a></em> or <em><a href="#disruption">/disruptions</a></em> services are managing.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>administrative_region</td>
<td>a city, a district, a neighborhood</td>
</tr>
<tr>
<td>network</td>
<td>a public transport network</td>
</tr>
<tr>
<td>commercial_mode</td>
<td>a public transport branded mode</td>
</tr>
<tr>
<td>line</td>
<td>a public transport line</td>
</tr>
<tr>
<td>route</td>
<td>a public transport route</td>
</tr>
<tr>
<td>stop_area</td>
<td>a nameable zone, where there are some stop points</td>
</tr>
<tr>
<td>stop_point</td>
<td>a location where vehicles can pickup or drop off passengers</td>
</tr>
<tr>
<td>address</td>
<td>a point located in a street</td>
</tr>
<tr>
<td>poi</td>
<td>a point of interest</td>
</tr>
</tbody></table>

<aside class="notice">
    This enum is used by 3 services :<br>
    <ul>
    <li>Using <b>places</b> service, navitia would returned objects among administrative_region, stop_area, poi, address and stop_point types<br>
    <li>Using <b>pt_objects</b> service, navitia would returned objects among network, commercial_mode, stop_area, line and route types<br>
    <li>Using <b>disruptions</b> service, navitia would returned objects among network, commercial_mode, stop_area, line, route and trips types<br>
    </ul>
</aside>

<h3 id="equipment">equipment</h3>

<p>Enum from</p>

<ul>
<li>  has_wheelchair_accessibility</li>
<li>  has_bike_accepted</li>
<li>  has_air_conditioned</li>
<li>  has_visual_announcement</li>
<li>  has_audible_announcement</li>
<li>  has_appropriate_escort</li>
<li>  has_appropriate_signage</li>
<li>  has_school_vehicle</li>
<li>  has_wheelchair_boarding</li>
<li>  has_sheltered</li>
<li>  has_elevator</li>
<li>  has_escalator</li>
<li>  has_bike_depot</li>
</ul>

<h3 id="display-informations">display informations</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td>String</td>
<td>The name of the network</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td>A direction</td>
</tr>
<tr>
<td>commercial_mode</td>
<td>String</td>
<td>The commercial mode</td>
</tr>
<tr>
<td>physical_mode</td>
<td>String</td>
<td>The physical mode</td>
</tr>
<tr>
<td>label</td>
<td>String</td>
<td>The label of the object</td>
</tr>
<tr>
<td>color</td>
<td>String</td>
<td>The hexadecimal code of the line</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>The code of the line</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>A description</td>
</tr>
<tr>
<td>equipments</td>
<td>Array of String</td>
<td>list of <a href="#equipment">equipment</a> of the object</td>
</tr>
</tbody></table>

<h3 id="link">link</h3>

<p>See <a href="#interface">interface</a> section.</p>

<h2 id="special-parameters">Special Parameters</h2>

<h3 id="datetime">datetime</h3>

<p>A date time with the format YYYYMMDDThhmmss</p>

<h4 id="depth">depth</h4>

<p>This tiny parameter can expand Navitia power by making it more wordy. As it is valuable on every API, take a look at <a href="#depth">depth</a></p>

          <h1 id="misc-mechanisms-and-few-boring-stuff">Misc mechanisms (and few boring stuff)</h1>

<h2 id="multiple-journeys">Multiple journeys</h2>

<p>Navitia can compute several kind of journeys with a journey query.</p>

<p>The
<a href="http://research.microsoft.com/apps/pubs/default.aspx?id=156567">RAPTOR</a>
algorithm used in Navitia is a multi-objective algorithm. Thus it might
return multiple journeys if it cannot know that one is better than the
other. For example it cannot decide that a one hour journey with no
connection is better than a 45 minutes journey with one connection
(it is called the <a href="http://en.wikipedia.org/wiki/Pareto_efficiency">pareto front</a>).</p>

<p>If the user asks for more journeys than the number of journeys given by
RAPTOR (with the parameter <code class="prettyprint">min_nb_journeys</code> or <code class="prettyprint">count</code>), Navitia will
ask RAPTOR again, but for the following journeys (or the previous ones
if the user asked with <code class="prettyprint">datetime_represents=arrival</code>).</p>

<p>Those journeys have the <code class="prettyprint">next</code> (or <code class="prettyprint">previous</code>) value in their tags.</p>

<h2 id="journey-qualification-process">Journey qualification process</h2>

<p>Since Navitia can return several journeys, it tags them to help the user
choose the best one that matches their needs.
Here are some tagging rules:
-    there is only one &ldquo;best&rdquo; itinerary
-    itineraries with other types are displayed only if they are relevant
-    and for a specific type, you may find many relevant itinerary</p>

<p>For example, for a specific request, you can find the &ldquo;best&rdquo; itinerary, 2 &ldquo;less_fallback_walk&rdquo; ones 
(with less walking, but taking more time) and no &ldquo;comfort&rdquo; (the &ldquo;best&rdquo; one is the same as the &ldquo;comfort&rdquo; one for example).</p>

<p>The different journey types are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>best</td>
<td>The best journey if you have to display only one.</td>
</tr>
<tr>
<td>rapid</td>
<td>A good trade off between duration, changes and constraint respect</td>
</tr>
<tr>
<td>comfort</td>
<td>A journey with less changes and walking</td>
</tr>
<tr>
<td>car</td>
<td>A journey with car to get to the public transport</td>
</tr>
<tr>
<td>less_fallback_walk</td>
<td>A journey with less walking</td>
</tr>
<tr>
<td>less_fallback_bike</td>
<td>A journey with less biking</td>
</tr>
<tr>
<td>less_fallback_bss</td>
<td>A journey with less bss</td>
</tr>
<tr>
<td>fastest</td>
<td>A journey with minimum duration</td>
</tr>
<tr>
<td>non_pt_walk</td>
<td>A journey without public transport, only walking</td>
</tr>
<tr>
<td>non_pt_bike</td>
<td>A journey without public transport, only biking</td>
</tr>
<tr>
<td>non_pt_bss</td>
<td>A journey without public transport, only bike sharing</td>
</tr>
</tbody></table>

<h2 id="on-demand-transportation">On demand transportation</h2>

<p>Some transit agencies force travelers to call them to arrange a pickup at a particular place or stop point.</p>

<p>Besides, some stop times can be &ldquo;estimated&rdquo; <em>in data by design</em> :</p>

<ul>
<li>A standard GTFS contains only regular time: that means transport agencies should arrive on time :)</li>
<li>But navitia can be fed with more specific data, where &ldquo;estimated time&rdquo; means that there will be
no guarantee on time respect by the agency. It often occurs in suburban or rural zone.</li>
</ul>

<p>After all, the stop points can be standard (such as bus stop or railway station)
or &ldquo;zonal&rdquo; (where agency can pick you up you anywhere, like a cab).</p>

<p>That&rsquo;s some kind of &ldquo;responsive locomotion&rdquo; (ɔ).</p>

<p>So public transport lines can mix different methods to pickup travelers:</p>

<ul>
<li>  regular

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  No need to call too.</li>
</ul></li>
<li>  odt_with_stop_time

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  But you will have to call to take it.</li>
</ul></li>
<li>  odt_with_stop_point

<ul>
<li>  line can contain some estimated stop times, but no zonal stop point location.</li>
<li>  And you will have to call to take it.</li>
</ul></li>
<li>  odt_with_zone

<ul>
<li>  line can contain some estimated stop times, and zonal stop point location.</li>
<li>  And you will have to call to take it</li>
<li>  well, not really a public transport line, more a cab&hellip;</li>
</ul></li>
</ul>

          <h1 id="lexicon">Lexicon</h1>

<h2 id="introduction">Introduction</h2>

<p>The world of public transportation is really specific, you will see here a small
introduction to it. A lot of people in the world of public transportation use
different words to speak about the same thing. Here are the definitions of terms
employed in www.navitia.io</p>

<p>You can read a mobility lexicon at
<a href="https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md">https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md</a></p>

<p>You will often read &ldquo;PT&rdquo; in this document. PT stands for public transport.</p>

<h2 id="stop-point">Stop Point</h2>

<p>A stop point is the physical object were someone waits for his bus
(subway, or whatever type of vehicle you can have in a public transport system).</p>

<h2 id="stop-area">Stop Area</h2>

<p>A stop area is a collection of stop points. Generally there are at least two stop
points per stop area, one per direction of a line. Now think of a hub, you will
have more than one line. Therefore your stop area will contain more than two stop
points. In particular cases your stop area can contain only one stop point.</p>

<p>Some datasets do not contain any stop area.</p>

<h2 id="connection">Connection</h2>

<p>This object links two stop points together (named origin and
destination). It is the walkable part of a journey.</p>

<h2 id="journey-pattern">Journey Pattern</h2>

<p>A journey pattern is an ordered list of stop points. Two vehicles that serve exactly the
same stop points in exactly the same order belong to to the same journey pattern.</p>

<h2 id="route">Route</h2>

<p>A route is a collection of journey pattern that match the same commercial direction.</p>

<aside class="warning">
    The GTFS specification uses the term <b>route</b> for the object we call <b>line</b>. It does not
    have this notion of commercial direction.
</aside>

<h2 id="line">Line</h2>

<p>A line is a collection of routes. Most of the time you&rsquo;ll just have just two routes.
This object is called <em>route</em> in the GTFS format.</p>

<h2 id="stop-time">Stop Time</h2>

<p>A stop time represents the time when a bus is planned to arrive and to leave a
stop point.</p>

          <h1 id="errors">Errors</h1>

<h2 id="code-40x">Code 40x</h2>

<blockquote>
<p>When there&rsquo;s an error you&rsquo;ll receive a response with a error object
containing a unique error id</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/wrong-one'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 404 OK

<span class="o">{</span>
    <span class="s2">"error"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"bad_filter"</span>,
        <span class="s2">"message"</span>: <span class="s2">"ptref : Filters: Unable to find object"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>This errors appears when there is an error in the request</p>

<p>The are two possible 40x http codes :</p>

<ul>
<li>  Code 404:</li>
</ul>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_out_of_bounds</td>
<td>When the given date is out of bounds of the production dates of the region</td>
</tr>
<tr>
<td>no_origin</td>
<td>Couldn&rsquo;t find an origin for the journeys</td>
</tr>
<tr>
<td>no_destination</td>
<td>Couldn&rsquo;t find an destination for the journeys</td>
</tr>
<tr>
<td>no_origin_nor_destination</td>
<td>Couldn&rsquo;t find an origin nor a destination for the journeys</td>
</tr>
<tr>
<td>unknown_object</td>
<td>As it&rsquo;s said</td>
</tr>
</tbody></table>

<ul>
<li>  Code 400:</li>
</ul>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bad_filter</td>
<td>When you use a custom filter</td>
</tr>
<tr>
<td>unable_to_parse</td>
<td>When you use a mal-formed custom filter</td>
</tr>
</tbody></table>

<h2 id="code-50x">Code 50x</h2>

<p>Ouch. Technical issue :/</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
